<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Form Example</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <div class="container my-4">
        <script src="https://unpkg.com/imask"></script>
        <form id="mainForm">
            <!-- Begin form -->
            <div class="form-control" style="">
                <label for="phone">Phone</label>
                <div class="input-group">
                    <input type="text" name="phone" id="phone" class="form-control" inputmode="tel" value="838341551"
                        autocomplete="tel" />
                </div>
                <script src="https://unpkg.com/imask"></script>
                <script>
                    document.addEventListener('DOMContentLoaded', function () {
                        let phoneEl = document.getElementById('phone');
                        if (phoneEl) {
                            let initial = phoneEl.getAttribute('value') || '';
                            let mask = IMask(phoneEl, {
                                mask: '+353 0000000000'
                            });
                            mask.value = initial.replace(/[^\d+]/g, '');
                            phoneEl.value = mask.value;
                        }
                    });
                </script>
            </div>
            <!-- end form -->

            <!-- Being Submit button -->
            <button type="submit" class="btn btn-primary">Submit</button>
            <!-- End Submit button -->
        </form>
        <div id="formResult" class="mt-4" style="display:none;">
            <div class="card">
                <div class="card-header">Form Values</div>
                <div class="card-body">
                    <pre id="formResultContent" class="mb-0"></pre>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.getElementById('mainForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const form = e.target;
            const data = {};
            // Use FormData to get all values, including checkboxes, radios, etc.
            const fd = new FormData(form);
            for (const [key, value] of fd.entries()) {
                // If multiple values (e.g. checkboxes), collect as array
                if (data[key]) {
                    if (Array.isArray(data[key])) {
                        data[key].push(value);
                    } else {
                        data[key] = [data[key], value];
                    }
                } else {
                    data[key] = value;
                }
            }
            document.getElementById('formResultContent').textContent = JSON.stringify(data, null, 2);
            document.getElementById('formResult').style.display = 'block';
        });
    </script>
</body>

</html>